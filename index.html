<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Angeli NodeJs</title>
</head>
<body>

</body>
<script type="text/javascript" src="/ws/socket.io.min.js"></script>
<script type="text/javascript">
var socket = (namespace = '/') => {
	var data = {
		path: '/ws',
		transports: ['websocket'],
		withCredentials: true,
		auth: {
			client_id: 123456
		}
	}

	return io('localhost:8080'+namespace, data);
}

const root_socket = socket();
const user_socket = socket('/user');

root_socket.on('connect', () => {
	console.log('connected root', root_socket.id);
});

user_socket.on('connect', () => {
	console.log('connected user', user_socket.id);
});
</script>
</html>
